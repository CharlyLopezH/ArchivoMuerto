{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport AutenticacionContext from \"./AutenticacionContext\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Autorizado(props) {\n  _s();\n\n  const [estaAutorizado, setEstaAutorizado] = useState(false);\n  const {\n    claims\n  } = useContext(AutenticacionContext);\n  useEffect(() => {\n    if (props.role) {\n      const indice = claims.findIndex(claim => claim.nombre === 'role' && claim.valor === props.role);\n      setEstaAutorizado(indice > -1);\n    } else {\n      setEstaAutorizado(claims.length > 0);\n    }\n  }, [claims, props.role]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: estaAutorizado ? props.autorizado : props.noAutorizado\n  }, void 0, false);\n}\n\n_s(Autorizado, \"d7H6iJUZfibwJ+hKDrgiXQpgBMY=\");\n\n_c = Autorizado;\n\nvar _c;\n\n$RefreshReg$(_c, \"Autorizado\");","map":{"version":3,"sources":["C:/reactjs/Udemy/NetCore/react-peliculas/src/auth/Autorizado.tsx"],"names":["useContext","useEffect","useState","AutenticacionContext","Autorizado","props","estaAutorizado","setEstaAutorizado","claims","role","indice","findIndex","claim","nombre","valor","length","autorizado","noAutorizado"],"mappings":";;AAAA,SAAuBA,UAAvB,EAAmCC,SAAnC,EAA8CC,QAA9C,QAA8D,OAA9D;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;;;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA4C;AAAA;;AACvD,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCL,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAaR,UAAU,CAACG,oBAAD,CAA7B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAII,KAAK,CAACI,IAAV,EAAgB;AACZ,YAAMC,MAAM,GAAGF,MAAM,CAACG,SAAP,CAAiBC,KAAK,IACjCA,KAAK,CAACC,MAAN,KAAiB,MAAjB,IAA2BD,KAAK,CAACE,KAAN,KAAgBT,KAAK,CAACI,IADtC,CAAf;AAEAF,MAAAA,iBAAiB,CAACG,MAAM,GAAG,CAAC,CAAX,CAAjB;AACH,KAJD,MAIO;AACHH,MAAAA,iBAAiB,CAACC,MAAM,CAACO,MAAP,GAAgB,CAAjB,CAAjB;AACH;AACJ,GARQ,EAQN,CAACP,MAAD,EAASH,KAAK,CAACI,IAAf,CARM,CAAT;AAUA,sBACI;AAAA,cACKH,cAAc,GAAGD,KAAK,CAACW,UAAT,GAAsBX,KAAK,CAACY;AAD/C,mBADJ;AAKH;;GAnBuBb,U;;KAAAA,U","sourcesContent":["import { ReactElement, useContext, useEffect, useState } from \"react\";\r\nimport AutenticacionContext from \"./AutenticacionContext\";\r\n\r\nexport default function Autorizado(props: autorizadoProps) {\r\n    const [estaAutorizado, setEstaAutorizado] = useState(false);\r\n    const { claims } = useContext(AutenticacionContext);\r\n\r\n    useEffect(() => {\r\n        if (props.role) {\r\n            const indice = claims.findIndex(claim =>\r\n                claim.nombre === 'role' && claim.valor === props.role)\r\n            setEstaAutorizado(indice > -1);\r\n        } else {\r\n            setEstaAutorizado(claims.length > 0);\r\n        }\r\n    }, [claims, props.role])\r\n\r\n    return (\r\n        <>\r\n            {estaAutorizado ? props.autorizado : props.noAutorizado}\r\n        </>\r\n    )\r\n}\r\n\r\ninterface autorizadoProps {\r\n    autorizado: ReactElement;\r\n    noAutorizado?: ReactElement;\r\n    role?: string;\r\n}"]},"metadata":{},"sourceType":"module"}